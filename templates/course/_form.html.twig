{{ form_start(form, {'attr': {'class': 'main-form'}}) }}
    <div class="form-group">
        {{ form_label(form.title) }}
        {{ form_widget(form.title) }}
    </div>
    <div class="form-group">
        {{ form_label(form.description) }}
        {{ form_widget(form.description) }}
    </div>
    <div class="form-group">
        {{ form_label(form.price) }}
        {{ form_widget(form.price) }}
    </div>
    <div class="form-group">
        {{ form_label(form.category) }}
        {# If there are no choices available, show a clear message and a link to create categories #}
        {% set choices = form.category.vars.choices is defined ? form.category.vars.choices : [] %}
        {% if choices|length > 0 %}
            {{ form_widget(form.category) }}
        {% else %}
            <div style="padding:0.6rem 0.8rem; background:rgba(255,255,255,0.03); border-radius:8px;">
                <p style="margin:0 0 0.4rem 0; color:#f3f4f6;">Aucune catégorie trouvée. Créez d'abord une catégorie.</p>
                <a href="{{ path('admin_category_new') }}" class="btn-action btn-primary">Créer une catégorie</a>
            </div>
        {% endif %}
    </div>
    <button class="btn-submit">{{ button_label|default('Enregistrer') }}</button>
{{ form_end(form) }}
